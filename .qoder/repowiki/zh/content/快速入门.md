# 快速入门

<cite>
**Referenced Files in This Document**   
- [ChatStart.java](file://ai/src/main/java/com/shuanglin/ChatStart.java)
- [BotStart.java](file://bot/src/main/java/com/shuanglin/BotStart.java)
- [application.yaml](file://ai/src/main/resources/application.yaml)
- [application.yaml](file://bot/src/main/resources/application.yaml)
- [ChatController.java](file://ai/src/main/java/com/shuanglin/bot/langchain4j/controller/ChatController.java)
- [README.md](file://README.md)
</cite>

## 目录
1. [先决条件](#先决条件)
2. [分步说明](#分步说明)
3. [测试](#测试)

## 先决条件

在开始之前，请确保您的系统已安装并运行以下服务：
- **Java 17+**: 项目基于Spring Boot构建，需要Java 17或更高版本。
- **Maven**: 用于项目依赖管理和构建。
- **MongoDB**: 用于持久化存储数据。确保服务在配置的主机和端口上运行。
- **Milvus**: 用于向量数据库，支持RAG（检索增强生成）功能。确保服务在配置的主机和端口上运行。
- **Redis**: 用于缓存和会话管理。确保服务在配置的主机和端口上运行。

## 分步说明

### 1) 克隆仓库
首先，将项目仓库克隆到本地：
```bash
git clone https://github.com/your-username/ai-studio.git
cd ai-studio
```

### 2) 配置application.yaml中的数据库连接和AI API密钥
项目包含两个主要模块：`ai` 和 `bot`，每个模块都有自己的 `application.yaml` 配置文件，位于 `src/main/resources/` 目录下。

您需要根据您的环境修改以下配置：
- **数据库连接**: 更新 `spring.data.mongodb.host`、`spring.data.redis.host` 和 `milvus.url` 为您的实际服务地址。
- **AI API密钥**: 在 `langchain4j.models` 部分，更新 `gemini.apiKey` 和 `qwen.apiKey` 为您自己的API密钥。

例如，在 `ai/src/main/resources/application.yaml` 中：
```yaml
spring:
  data:
    mongodb:
      host: your-mongodb-host
    redis:
      host: your-redis-host
milvus:
  url: http://your-milvus-host:19530
langchain4j:
  models:
    gemini:
      apiKey: your-gemini-api-key
    qwen:
      apiKey: your-qwen-api-key
```

**Section sources**
- [application.yaml](file://ai/src/main/resources/application.yaml)
- [application.yaml](file://bot/src/main/resources/application.yaml)

### 3) 使用Maven构建项目
在项目根目录下，使用Maven命令构建整个项目：
```bash
mvn clean install
```
此命令将下载所有依赖并编译代码。

### 4) 启动ai和bot两个模块
构建成功后，分别启动 `ai` 和 `bot` 模块。

启动 `ai` 模块：
```bash
cd ai
mvn spring-boot:run
```
或使用其主类：
```bash
java -cp target/classes com.shuanglin.ChatStart
```

启动 `bot` 模块：
```bash
cd ../bot
mvn spring-boot:run
```
或使用其主类：
```bash
java -cp target/classes com.shuanglin.BotStart
```

**Section sources**
- [ChatStart.java](file://ai/src/main/java/com/shuanglin/ChatStart.java)
- [BotStart.java](file://bot/src/main/java/com/shuanglin/BotStart.java)

## 测试

### 5) 通过示例请求进行测试
当两个服务都成功启动后，您可以使用 `curl` 命令或任何HTTP客户端来测试 `ai` 模块提供的 `/chat/ask` 接口。

发送一个示例请求：
```bash
curl -X POST http://localhost:8080/chat/ask \
  -H "Content-Type: application/json" \
  -d '{"message": "你好，请介绍一下你自己。"}'
```
如果一切正常，您应该会收到一个来自AI助手的响应。

**Section sources**
- [ChatController.java](file://ai/src/main/java/com/shuanglin/bot/langchain4j/controller/ChatController.java)